<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>نظام مواعيد المركز</title>
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background-color: #f9f9f9;
      padding: 20px;
      direction: rtl;
    }

    header {
      background-color: #F9D64E;
      padding: 30px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      color: #2B2A2A;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    input, select, button {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      background-color: #F9D64E;
      border: none;
      color: #2B2A2A;
      font-weight: bold;
      cursor: pointer;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background-color: #fff;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    th {
      background-color: #F9D64E;
    }
  </style>
</head>
<body>

<header>
  نظام مواعيد المركز
</header>

<div class="form-group">
  <label for="specialist-name">اسم الأخصائي</label>
  <input type="text" id="specialist-name" placeholder="أدخل اسم الأخصائي">
</div>

<div class="form-group">
  <label for="specialist-email">البريد الإلكتروني للأخصائي</label>
  <input type="email" id="specialist-email" placeholder="example@email.com">
</div>

<table id="schedule-table">
  <thead>
    <tr>
      <th>اليوم</th>
      <th>الوقت</th>
      <th>اسم الطفل</th>
      <th>القسم</th>
      <th>نوع الجلسة</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>الأحد</td>
      <td>1:00 - 3:00</td>
      <td>سلمان</td>
      <td>تخاطب</td>
      <td>جلسة تقييم</td>
    </tr>
    <tr>
      <td>الأحد</td>
      <td>1:00 - 3:00</td>
      <td>ريان</td>
      <td>تنمية مهارات</td>
      <td>48 جلسة</td>
    </tr>
    <!-- يمكن إضافة صفوف أخرى -->
  </tbody>
</table>

<div class="form-group">
  <button onclick="sendScheduleEmail()">إرسال الجدول إلى الأخصائي</button>
</div>

<script>
  (function() {
    emailjs.init("Ol1_k8IqKWQbPcbNv");
  })();

  function sendScheduleEmail() {
    const specialistName = document.getElementById("specialist-name").value;
    const specialistEmail = document.getElementById("specialist-email").value;
    const scheduleTable = document.getElementById("schedule-table").outerHTML;

    if (!specialistEmail || !specialistName) {
      alert("يرجى تعبئة اسم الأخصائي وبريده الإلكتروني.");
      return;
    }

    emailjs.send("service_cuzf74k", "template_b04f8pi", {
      to_name: specialistName,
      to_email: specialistEmail,
      schedule_html: scheduleTable
    }).then(function(response) {
      alert("تم إرسال جدول الأخصائي بنجاح!");
    }, function(error) {
      alert("حدث خطأ أثناء الإرسال: " + JSON.stringify(error));
    });
  }
</script>

</body>
</html>
