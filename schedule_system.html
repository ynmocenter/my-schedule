<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>نظام مواعيد المركز - جدولة مواعيد الأطفال</title>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      direction: rtl;
      margin: 20px;
      background-color: #f9f9f9;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    header img {
      height: 60px;
    }
    header h1 {
      margin: 0;
      font-size: 24px;
    }
    form {
      margin-bottom: 20px;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 8px;
    }
    form div {
      margin-bottom: 10px;
    }
    label {
      display: inline-block;
      width: 150px;
      font-weight: bold;
    }
    input, select {
      padding: 5px;
      width: 200px;
    }
    button {
      padding: 8px 16px;
      margin: 5px;
      cursor: pointer;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
    }
    button:hover {
      background-color: #0056b3;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #333;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #eee;
    }
  </style>
  <!-- استيراد خط "Cairo" من Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
  <!-- قسم الشعار والعنوان -->
  <header>
    <img src="logo.png" alt="شعار المركز">
    <h1>نظام مواعيد المركز - جدولة مواعيد الأطفال</h1>
  </header>
  
  <!-- نموذج إدخال بيانات الموعد -->
  <form id="appointmentForm">
    <div>
      <label for="childName">اسم الطفل:</label>
      <input type="text" id="childName" required>
    </div>
    <div>
      <label for="day">اليوم:</label>
      <select id="day" required>
        <option value="السبت">السبت</option>
        <option value="الأحد">الأحد</option>
        <option value="الاثنين">الاثنين</option>
        <option value="الثلاثاء">الثلاثاء</option>
        <option value="الأربعاء">الأربعاء</option>
        <option value="الخميس">الخميس</option>
      </select>
    </div>
    <div>
      <label for="timeSlot">الوقت:</label>
      <select id="timeSlot" required>
        <option value="1:00 - 1:40">1:00 - 1:40</option>
        <option value="1:40 - 2:20">1:40 - 2:20</option>
        <option value="2:20 - 3:00">2:20 - 3:00</option>
        <option value="3:20 - 4:00">3:20 - 4:00</option>
        <option value="4:00 - 4:40">4:00 - 4:40</option>
        <option value="4:40 - 5:20">4:40 - 5:20</option>
        <option value="5:20 - 6:00">5:20 - 6:00</option>
        <option value="6:00 - 6:40">6:00 - 6:40</option>
        <option value="6:40 - 7:20">6:40 - 7:20</option>
        <option value="7:20 - 8:00">7:20 - 8:00</option>
        <option value="8:00 - 8:40">8:00 - 8:40</option>
        <option value="8:40 - 9:20">8:40 - 9:20</option>
      </select>
    </div>
    <div>
      <label for="department">القسم:</label>
      <select id="department" required>
        <option value="تعديل سلوك">تعديل سلوك</option>
        <option value="تخاطب">تخاطب</option>
        <option value="تنمية مهارات">تنمية مهارات</option>
      </select>
    </div>
    <div>
      <label for="specialist">اسم الأخصائي:</label>
      <input type="text" id="specialist" required>
    </div>
    <div>
      <label for="subscription">نوع الاشتراك:</label>
      <select id="subscription" required>
        <option value="24 جلسة">24 جلسة</option>
        <option value="36 جلسة">36 جلسة</option>
      </select>
    </div>
    <div>
      <label for="notes">ملاحظات:</label>
      <input type="text" id="notes">
    </div>
    <div>
      <button type="submit">إضافة الموعد</button>
      <button type="button" onclick="clearForm()">مسح الحقول</button>
    </div>
  </form>
  
  <!-- أدوات التصفية -->
  <div>
    <label for="filterSpec">تصفية حسب الأخصائي:</label>
    <input type="text" id="filterSpec">
    <button onclick="filterAppointments()">تصفية</button>
    <button onclick="showAllAppointments()">عرض الجميع</button>
  </div>
  
  <!-- جدول عرض المواعيد -->
  <table id="appointmentsTable">
    <thead>
      <tr>
        <th>اسم الطفل</th>
        <th>اليوم</th>
        <th>الوقت</th>
        <th>القسم</th>
        <th>نوع الاشتراك</th>
        <th>اسم الأخصائي</th>
        <th>ملاحظات</th>
      </tr>
    </thead>
    <tbody id="appointmentsBody">
      <!-- سيتم إضافة المواعيد هنا -->
    </tbody>
  </table>
</div>

<script>
// مصفوفة لتخزين المواعيد
let appointments = [];

// إضافة موعد جديد عند تقديم النموذج
document.getElementById('appointmentForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const childName = document.getElementById('childName').value;
  const day = document.getElementById('day').value;
  const timeSlot = document.getElementById('timeSlot').value;
  const department = document.getElementById('department').value;
  const specialist = document.getElementById('specialist').value;
  const subscription = document.getElementById('subscription').value;
  const notes = document.getElementById('notes').value;
  
  const appointment = {
    childName,
    day,
    timeSlot,
    department,
    specialist,
    subscription,
    notes
  };
  
  appointments.push(appointment);
  displayAppointments();
  this.reset();
});

// عرض المواعيد في الجدول
function displayAppointments() {
  const tbody = document.getElementById('appointmentsBody');
  tbody.innerHTML = "";
  appointments.forEach((appt, index) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${appt.childName}</td>
      <td>${appt.day}</td>
      <td>${appt.timeSlot}</td>
      <td>${appt.department}</td>
      <td>${appt.subscription}</td>
      <td>${appt.specialist}</td>
      <td>${appt.notes}</td>
    `;
    tbody.appendChild(tr);
  });
}

// تصفية المواعيد حسب اسم الأخصائي
function filterAppointments() {
  const filterSpec = document.getElementById('filterSpec').value.trim().toLowerCase();
  const tbody = document.getElementById('appointmentsBody');
  tbody.innerHTML = "";
  appointments.filter(appt => appt.specialist.toLowerCase() === filterSpec)
              .forEach(appt => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${appt.childName}</td>
      <td>${appt.day}</td>
      <td>${appt.timeSlot}</td>
      <td>${appt.department}</td>
      <td>${appt.subscription}</td>
      <td>${appt.specialist}</td>
      <td>${appt.notes}</td>
    `;
    tbody.appendChild(tr);
  });
}

// عرض كل المواعيد
function showAllAppointments() {
  displayAppointments();
}

// مسح الحقول في النموذج
function clearForm() {
  document.getElementById('appointmentForm').reset();
}

// حفظ المواعيد في LocalStorage
function saveAppointments() {
  localStorage.setItem('appointments', JSON.stringify(appointments));
  alert("تم حفظ المواعيد في المتصفح.");
}

// استعادة المواعيد من LocalStorage
function loadAppointments() {
  const stored = localStorage.getItem('appointments');
  if(stored) {
    appointments = JSON.parse(stored);
    displayAppointments();
    alert("تم استعادة المواعيد.");
  } else {
    alert("لا توجد مواعيد محفوظة.");
  }
}
</script>
</body>
</html>
